{% extends 'layout/auth.html' %}

{% load i18n %}

{% block title %}{% translate "Register" %}{% endblock %}

{% block content %}
<div class="d-flex justify-content-center">
<form method="post" class="w-75" id="signupForm">
  {% csrf_token %}
  <div class="d-flex flex-column gap-4 bg-white rounded p-6 shadow-sm">
    {% if user.is_authenticated %}
    <p>You already logged in. <span><a href="{% url 'user:logout' %}">Logout?</a></span></p>
    {% else %}
    <h2 class="form-label fs-3">Create account</h2>
    <div>
      <input type="email" name="{{ form.email.name }}" class="form-control" placeholder="Email" aria-label="Email"
             aria-describedby="basic-addon1" required/>
      {% for error in form.email.errors %}
      <div style="color: red;">
        {{ error }}
      </div>
      {% endfor %}
    </div>
    <div>
      <input type="text" name="{{ form.username.name }}" class="form-control" placeholder="Username"
             aria-label="Username" aria-describedby="basic-addon1" required/>
      {% for error in form.username.errors %}
      <div style="color: red;">
        {{ error }}
      </div>
      {% endfor %}
    </div>
    <div>
      <input type="password" name="{{ form.password1.name }}" class="form-control" placeholder="Enter your password"
             aria-label="Password" aria-describedby="basic-addon1" required/>
      {% for error in form.password1.errors %}
      <div style="color: red;">
        {{ error }}
      </div>
      {% endfor %}
    </div>
    <div>
      <input type="password" name="{{ form.password2.name }}" class="form-control" placeholder="Confirm your password"
             aria-label="Password Confirmation" aria-describedby="basic-addon1" required/>
      {% for error in form.password2.errors %}
      <div style="color: red;">
        {{ error }}
      </div>
      {% endfor %}
    </div>
    <button type="submit" class="btn btn-primary mt-6 align-self-end">Next</button>
  {% endif %}
  </div>
</form>

</div>

{% endblock content %}
